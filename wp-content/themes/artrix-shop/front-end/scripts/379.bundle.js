"use strict";(self.webpackChunkmy_shop=self.webpackChunkmy_shop||[]).push([[379],{379:(e,t,n)=>{function a(){$.validator.addMethod("strongPassword",function(e,t){return this.optional(t)||/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/.test(e)},"The password must be at least 8 characters long and include uppercase and lowercase letters, numbers, and special characters."),$("#signupForm").on("submit",function(e){e.preventDefault()}),$("#signupForm").validate({rules:{first_name:{required:!0,minlength:2,maxlength:50},last_name:{required:!0,minlength:2,maxlength:50},email:{required:!0,email:!0,maxlength:100},code:{required:!0,digits:!0,minlength:4,maxlength:6},pwd:{required:!0,minlength:8,maxlength:50,strongPassword:!0},check_pwd:{required:!0,equalTo:"#pwd"},agree:{required:!0}},messages:{first_name:{required:"Please enter your first name",minlength:"First name must be at least 2 characters",maxlength:"First name cannot exceed 50 characters"},last_name:{required:"Please enter your last name",minlength:"Last name must be at least 2 characters",maxlength:"Last name cannot exceed 50 characters"},email:{required:"Please enter your email address",email:"Please enter a valid email address",maxlength:"Email address cannot exceed 100 characters"},code:{required:"Please enter the verification code",digits:"Verification code can only contain digits",minlength:"Verification code must be at least 4 digits",maxlength:"Verification code cannot exceed 6 digits"},pwd:{required:"Please enter your password",minlength:"Password must be at least 8 characters",maxlength:"Password cannot exceed 50 characters"},check_pwd:{required:"Please re-enter your password",equalTo:"The two passwords do not match"},agree:{required:"Please agree to the User Registration Agreement"}},submitHandler:function(e){!function(e){const t=$(e),n=t.find('button[type="submit"]'),a=n.text();n.prop("disabled",!0).text("Registeringâ€¦");const s=new FormData(e);$.ajax({url:t.attr("action"),type:"POST",data:s,processData:!1,contentType:!1,success:function(e){e.success||200===e.code?(r("Registration successful! Redirecting...","success"),setTimeout(function(){e.redirect_url?window.location.href=e.redirect_url:window.location.href="/user-login/"},2e3)):(r(e.message||"Registration failed, please try again","error"),n.prop("disabled",!1).text(a))},error:function(e){console.error("Registration failed:",e);let t="Registration failed, please try again";e.responseJSON&&e.responseJSON.message?t=e.responseJSON.message:400===e.status?t="Please check if the entered information is correct":500===e.status&&(t="Server error, please try again later"),r(t,"error"),n.prop("disabled",!1).text(a)}})}(e)}}),function(){function e(e,t,n,a){a.prop("disabled",!0).text("Send..."),$.ajax({url:e,type:"POST",data:{email:t,type:n},success:function(e){e.success||200===e.code?(r("Verification code has been sent to your email","success"),function(e){let t=60;e.text(`Resend (${t}s)`);let n=setInterval(function(){t--,t>0?e.text(`Resend (${t}s)`):(clearInterval(n),e.prop("disabled",!1).text("Get Verification Code"),t=0)},1e3)}(a)):(r(e.message||"Failed to send, please try again","error"),a.prop("disabled",!1).text("Get Verification Code"))},error:function(e){console.error("Failed to send verification code:",e),r("Failed to send, please check your network connection","error"),a.prop("disabled",!1).text("Get Verification Code")}})}$(".js-emailcode").on("click",function(t){t.preventDefault();const n=$(this),a=$('input[name="email"]').val(),s=n.data("url"),o=n.data("type");a?function(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}(a)?e(s,a,o,n):r("Please enter a valid email address.","error"):r("Please enter your email address first.","error")})}()}function r(e,t="info"){$(".form-message").remove();const n=`\n        <div class="form-message form-message-${t}" style="\n            position: fixed;\n            top: 20px;\n            right: 20px;\n            padding: 15px 20px;\n            border-radius: 4px;\n            color: white;\n            font-size: 14px;\n            z-index: 9999;\n            max-width: 300px;\n            background-color: ${"success"===t?"#28a745":"error"===t?"#dc3545":"#17a2b8"};\n            box-shadow: 0 4px 6px rgba(0,0,0,0.1);\n        ">\n            ${e}\n        </div>\n    `;$("body").append(n),setTimeout(function(){$(".form-message").fadeOut(300,function(){$(this).remove()})},3e3)}n.r(t),n.d(t,{default:()=>a}),n(960),$("head").length&&!$("#signup-form-styles").length&&$("head").append("\n<style>\n.error-field {\n    border-color: #dc3545 !important;\n    background-color: #fff5f5;\n}\n\n.valid-field {\n    border-color: #28a745 !important;\n}\n\n.error-message {\n    color: #dc3545;\n    font-size: 14px;\n    margin-top: 5px;\n    display: block;\n}\n\n.js-emailcode:disabled {\n    opacity: 0.6;\n    cursor: not-allowed;\n}\n\n.form-message {\n    animation: slideIn 0.3s ease-out;\n}\n\n@keyframes slideIn {\n    from {\n        transform: translateX(100%);\n        opacity: 0;\n    }\n    to {\n        transform: translateX(0);\n        opacity: 1;\n    }\n}\n</style>\n")}}]);