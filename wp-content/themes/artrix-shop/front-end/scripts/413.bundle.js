"use strict";(self.webpackChunkmy_shop=self.webpackChunkmy_shop||[]).push([[413],{413:(e,n,r)=>{function a(){$.validator.addMethod("strongPassword",function(e,n){return this.optional(n)||/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/.test(e)},"The password must be at least 8 characters long and include uppercase and lowercase letters, numbers, and special characters."),$("#loginForm").on("submit",function(e){e.preventDefault()}),$("#loginForm").validate({rules:{username:{required:!0,email:!0,maxlength:100},password:{required:!0,minlength:8,maxlength:50,strongPassword:!0}},messages:{username:{required:"Please enter your email address",email:"Please enter a valid email address",maxlength:"Email address cannot exceed 100 characters"},password:{required:"Please enter your password",minlength:"Password must be at least 6 characters",maxlength:"Password cannot exceed 50 characters"}},submitHandler:function(e){!function(e){const n=$(e),r=n.find('button[type="submit"]'),a=r.text();if(r.prop("disabled"))return!1;r.prop("disabled",!0).text("Logging in..."),$.ajax({url:n.attr("action"),type:"POST",data:n.serialize(),success:function(e){console.log("Login response:",e),e&&200===e.code?(s("Login successful! Redirecting...","success"),setTimeout(function(){if(e.redirect_url)window.location.href=e.data.url;else{const e=$('input[name="redirect_from"]').val();e&&""!==e.trim()?window.location.href=e:window.location.href="/"}},1500)):(s(e.message||"Login failed, please check your credentials","error"),r.prop("disabled",!1).text(a))},error:function(e){console.error("Login failed:",e);let n="Login failed, please try again";if(e.responseJSON&&e.responseJSON.message)n=e.responseJSON.message;else switch(e.status){case 400:n="Invalid email or password";break;case 401:n="Invalid credentials, please try again";break;case 422:n="Please check your input";break;case 500:n="Server error, please try again later";break;case 0:n="Network error, please check your connection"}s(n,"error"),r.prop("disabled",!1).text(a)}})}(e)}})}function s(e,n="info"){$(".form-message").remove();const r=`\n        <div class="form-message form-message-${n}" style="\n            position: fixed;\n            top: 20px;\n            right: 20px;\n            padding: 15px 20px;\n            border-radius: 4px;\n            color: white;\n            font-size: 14px;\n            z-index: 9999;\n            max-width: 300px;\n            background-color: ${"success"===n?"#28a745":"error"===n?"#dc3545":"#17a2b8"};\n            box-shadow: 0 4px 6px rgba(0,0,0,0.1);\n        ">\n            ${e}\n        </div>\n    `;$("body").append(r),setTimeout(function(){$(".form-message").fadeOut(300,function(){$(this).remove()})},3e3)}r.r(n),r.d(n,{default:()=>a}),r(960),$("head").length&&!$("#login-form-styles").length&&$("head").append('<div id="login-form-styles">\n<style>\n.error-field {\n    border-color: #dc3545 !important;\n    background-color: #fff5f5;\n}\n\n.valid-field {\n    border-color: #28a745 !important;\n}\n\n.error-message {\n    color: #dc3545;\n    font-size: 14px;\n    margin-top: 5px;\n    display: block;\n}\n\n.form-message {\n    animation: slideIn 0.3s ease-out;\n}\n\n@keyframes slideIn {\n    from {\n        transform: translateX(100%);\n        opacity: 0;\n    }\n    to {\n        transform: translateX(0);\n        opacity: 1;\n    }\n}\n</style>\n</div>')}}]);